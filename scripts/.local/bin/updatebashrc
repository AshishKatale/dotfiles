#!/bin/bash

update_bashrc() {
	if grep -q "EDITOR=" ~/.bashrc; then
		sed -i "s/\(EDITOR=\).*/EDITOR=vim/" ~/.bashrc
	else
		echo >> ~/.bashrc
		echo "EDITOR=vim" >> ~/.bashrc
	fi

	if grep -q "export DOTFILES=" ~/.bashrc; then
		sed -i "s|\(export DOTFILES=\).*|export DOTFILES=$PWD|" ~/.bashrc
	else
		echo >> ~/.bashrc
		echo "export DOTFILES=$PWD" >> ~/.bashrc
	fi

	if grep -q "source.*bashrc.sh" ~/.bashrc; then
		sed -i "s|source.*bashrc.sh|source $PWD/shell/bashrc.sh|" ~/.bashrc
	else
		echo >> ~/.bashrc
		echo "source $PWD/shell/bashrc.sh" >> ~/.bashrc
	fi

	echo >> ~/.bashrc
	cp "$PWD/shell/.vimrc" ~/.vimrc
}

